/*! angular-freebox-common 14-04-2015. Copyright xelita <admin@xelita.com> (https://github.com/xelita/angular-freebox-common) */
var fbCommonModule=angular.module("fbCommonModule",[]);fbCommonModule.constant("fbCommonConstants",{box:{localUrl:"http://mafreebox.freebox.fr"},urls:{apiVersion:"/api_version"}}),fbCommonModule.factory("fbCommonService",["$log","$http","$q","fbCommonConstants",function(a,b,c,d){return{targetRootUrl:function(b){return a.debug("fbCommonService.targetRootUrl."),b?b:d.box.localUrl},apiVersion:function(c){return a.debug("fbCommonService.apiVersion."),b.get(this.targetRootUrl(c)+d.urls.apiVersion)},apiRequestUrl:function(b,d){a.debug("fbCommonService.apiRequestUrl.");var e=c.defer(),f=this.targetRootUrl(d);return a.debug("rootUrl is: "+f),this.apiVersion(f).then(function(c){var d=c.data;a.debug("API information is: "+d);var g=f+d.api_base_url+"v"+d.api_version.charAt(0)+b;a.debug("requestUrl is: "+g),e.resolve(g)}),e.promise}}}]);